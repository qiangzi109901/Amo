
<link href="/lib/tether/tooltip/css/one.css" rel="stylesheet" />
<section id="code_maker">
    <p>Step1:选择数据表<span id="create_db" data-modal="aModal" class="code_btn">[新增]</span><span id="refresh_db" class="code_btn" data-modal="rModal">[刷新]</span> </p>
    <div class="wrap">
        <select  id="host" class="myselect select2" name="host" placeholder="请选择主机" noresult="主机为空"></select>
        <select  id="db" class="myselect select2" name="db" placeholder="请选择数据库" noresult="请先选择主机" default_msg="请选择数据库" default_val=""></select>
        <select  id="tb" class="myselect select2" name="tb" placeholder="请选择数据表" noresult="请先选择数据库" default_msg="请选择数据表" default_val=""></select>
    </div>

    <p>Step2:选择模板</p>
    <div>
        <select  id="temp_type" class="myselect select2" name="temp_type" placeholder="请选择模板类别" ></select>
        <select  id="temp" class="myselect select2" name="temp" placeholder="请选择具体模板"></select>
    </div>
    <!--<pre class="wrap">-->
        <!--<code id="code_template"></code>-->
    <!--</pre>-->
    <div class="wrap"></div>

    <p>Step3:选择字段 <span id="may" class="code_btn">[可选]</span></p>
    <div id="column_area"></div>

    <div class="wrap"></div>
    <p>Step4:生成代码 <span id="copy" data-clipboard-target="#final_code" class="code_btn">[复制代码]</span> <span id="download" class="code_btn">[下载]</span></p>
    <pre class="wrap"><code id="final_code" ></code></pre>
    

</section>



<form action="/download/code" method="post" style="visibility:hidden" id="downloadForm">
    
    <input type="text" name="filename" id="mfilename">
    <textarea id="mcontent" name="content"></textarea>
    <input type="submit" value="download" id="downloadSubmit">
</form>

<script type="text/html" id="temp_columns">
    <ul>
        [[each columns as column]]
            <li data-id="[[column.id]]" class="mcheckbox active">[[column.column_name]]</li>
        [[/each]]
    </ul>
</script>


<script type="text/html" id="temp_node_mapper">
<?xml version="1.0" encoding="utf-8"?>
<sql id="[[table]]">
[[content]]
</sql>
</script>


<script type="text/html" id="temp_java_mapper">
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="[[className]]Dao">
[[content]]
</mapper>
</script>

<script type="text/html" id="temp_java_mapper">
    <ul>
        [[each columns as column]]
            <li data-id="[[column.id]]" class="mcheckbox active">[[column.column_name]]</li>
        [[/each]]
    </ul>
</script>



{{include './template/db'}}


<script src="/js/home/code.js" type="text/javascript"></script>
